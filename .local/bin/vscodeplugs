#!/bin/zsh

# vscode: install plugins in list that are not already installed
# the command: ls $HOME/.vscode/extensions | sed 's/-[^-]*$//'
# is much faster than: code --list-extension
PLUGS=$(
  comm -23 \
    <(sort "$XDG_CONFIG_HOME/Code/plugins.txt") \
    <(ls $HOME/.vscode/extensions | sed 's/-[^-]*$//' | sort) \
)

[ ! -z $PLUGS ] && echo "$PLUGS" | xargs -n 1 code --install-extension
